(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[1],{219:function(t,e,n){t.exports={list:"ContactList_list__2T7aG"}},222:function(t,e,n){t.exports={form:"ContactForm_form__1fuOn",textField:"ContactForm_textField__3CVaX",input:"ContactForm_input__gm87B",btn:"ContactForm_btn__2Bpnz"}},223:function(t,e,n){t.exports={wrapper:"ContactsView_wrapper__CCOvq",title:"ContactsView_title__zBwOW",add:"ContactsView_add__2jKST"}},224:function(t,e,n){t.exports={Modal__backdrop:"Modal_Modal__backdrop__2cPIs",Modal__content:"Modal_Modal__content__9ZV8o"}},245:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return $}));var r={};n.r(r),n.d(r,"fetchContacts",(function(){return j})),n.d(r,"addContact",(function(){return f})),n.d(r,"deleteContact",(function(){return h}));var c={};n.r(c),n.d(c,"getContacts",(function(){return m})),n.d(c,"getLoading",(function(){return p})),n.d(c,"getError",(function(){return C})),n.d(c,"getFilter",(function(){return _})),n.d(c,"getVisibleContacts",(function(){return g}));var a=n(70),o=n(2),i=n(0),s=n(21),u=n(35),l=n.n(u),d=n(14),b=n(27),j=function(){return function(t){t(Object(d.fetchContactsRequest)()),l.a.get("/contacts").then((function(e){var n=e.data;return t(Object(d.fetchContactsSuccess)(n))})).catch((function(e){t(Object(d.fetchContactsError)(e)),404===e.response.status?b.b.info("There is no such user's collection!"):500===e.response.status?b.b.error("Oops! Server error! Please try later!"):b.b.error("Something went wrong! Please reload the page!")}))}},f=function(t,e){return function(n){var r={name:t,number:e};n(Object(d.addContactRequest)()),l.a.post("/contacts",r).then((function(t){var e=t.data;return n(Object(d.addContactSuccess)(e))})).catch((function(t){n(Object(d.addContactError)(t)),400===t.response.status?b.b.error("Contact creation error!"):b.b.error("Something went wrong! Please reload the page!")}))}},h=function(t){return function(e){e(Object(d.deleteContactRequest)()),l.a.delete("/contacts/".concat(t)).then((function(){return e(Object(d.deleteContactSuccess)(t))})).catch((function(t){e(Object(d.deleteContactError)(t)),404===t.response.status?b.b.info("There is no such user's collection!"):500===t.response.status?b.b.error("Oops! Server error! Please try later!"):b.b.error("Something went wrong! Please reload the page!")}))}},O=n(53),m=function(t){return t.contacts.items},p=function(t){return t.contacts.isLoading},C=function(t){return t.contacts.error},_=function(t){return t.contacts.filter},g=Object(O.a)([m,_],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),v=n(203),x=n(220),w=n.n(x),y=n(199),k=n(219),S=n.n(k),F=n(204),N=n(168),E=n(241),L=n(240),M=n(250),P=n(242),V=n(85),T=n.n(V);var W=function(){var t=Object(s.b)(),e=Object(s.c)(c.getVisibleContacts),n=Object(s.c)(c.getContacts);return Object(o.jsxs)(o.Fragment,{children:[n.length>0&&Object(o.jsx)(F.a,{className:S.a.list,children:e.map((function(e){var n=e.name,c=e.number,a=e.id;return Object(o.jsxs)(N.a,{children:[Object(o.jsx)(L.a,{children:Object(o.jsx)(M.a,{children:Object(o.jsx)(T.a,{"aria-label":"person"})})}),Object(o.jsx)(E.a,{primary:n}),Object(o.jsx)(E.a,{color:"primary",primary:c}),Object(o.jsx)(P.a,{children:Object(o.jsx)(v.a,{id:a,onClick:function(){return t(r.deleteContact(a))},edge:"end","aria-label":"delete",children:Object(o.jsx)(w.a,{})})})]},a)}))}),0===n.length&&Object(o.jsx)(y.a,{color:"primary",variant:"h5",children:"There are no contacts in the phone book now"})]})},q=(n(221),n(239)),z=(n(71),n(222)),B=n.n(z),R=n(244);var J=function(t){var e=t.onClose,n=Object(s.b)(),u=Object(s.c)(c.getContacts),l=(Object(s.c)(c.getLoading),Object(i.useState)("")),d=Object(a.a)(l,2),j=d[0],f=d[1],h=Object(i.useState)(""),O=Object(a.a)(h,2),m=O[0],p=O[1],C=function(t){var e=t.target,n=e.name,r=e.value;switch(n){case"name":f(r);break;case"number":p(r);break;default:return}},_=function(){f(""),p(""),e()};return Object(o.jsxs)("form",{className:B.a.form,onSubmit:function(t){return t.preventDefault(),function(t){return u.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))}(j)?Object(b.b)("".concat(j," is already in the phonebook.")):function(t){return u.find((function(e){return e.number===t}))}(m)?Object(b.b)("\ud83e\udd14 ".concat(m," is already in the phonebook.")):function(t,e){return""===t.trim()||""===e.trim()}(j,m)?b.b.info("Enter the contact's"):(n(r.addContact(j,m)),void _())},children:[Object(o.jsx)(R.a,{label:"Name",variant:"outlined",color:"primary",type:"text",name:"name",fullWidth:!0,value:j,onChange:C,className:B.a.textField}),Object(o.jsx)(R.a,{label:"Number",variant:"outlined",color:"primary",type:"phone",name:"number",fullWidth:!0,value:m,onChange:C,className:B.a.textField}),Object(o.jsx)(q.a,{variant:"contained",color:"primary",size:"large",fullWidth:!0,type:"submit",children:"Add contact"})]})};var A=function(){var t=Object(s.b)(),e=Object(s.c)(c.getFilter),n=Object(s.c)(c.getContacts);return Object(o.jsx)(o.Fragment,{children:n.length>0&&Object(o.jsx)(R.a,{label:"Filter",variant:"outlined",type:"text",value:e,fullWidth:!0,color:"primary",onChange:function(e){return t(d.filterContact(e.target.value))}})})},D=n(223),G=n.n(D),I=n(243),K=n(225),X=n.n(K),Z=n(9),H=n(224),Q=n.n(H),U=document.querySelector("#modal-root");function Y(t){var e=t.onClose,n=t.children;Object(i.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}),[]);var r=function(t){"Escape"===t.code&&e()};return Object(Z.createPortal)(Object(o.jsx)("div",{className:Q.a.Modal__backdrop,onClick:function(t){t.currentTarget===t.target&&e()},children:Object(o.jsx)("div",{className:Q.a.Modal__content,children:n})}),U)}function $(){var t=Object(s.b)(),e=Object(i.useState)(!1),n=Object(a.a)(e,2),c=n[0],u=n[1];Object(i.useEffect)((function(){return t(r.fetchContacts())}),[t]);var l=function(){u(!c)};return Object(o.jsxs)(I.a,{className:G.a.wrapper,maxWidth:"xs",children:[Object(o.jsx)(y.a,{className:G.a.title,color:"primary",variant:"h3",children:"Contacts"}),Object(o.jsx)(A,{}),Object(o.jsx)(W,{}),Object(o.jsx)(v.a,{onClick:l,className:G.a.add,color:"primary","aria-label":"add contact",children:Object(o.jsx)(X.a,{})}),c&&Object(o.jsx)(Y,{onClose:l,children:Object(o.jsx)(J,{onClose:l})})]})}}}]);
//# sourceMappingURL=contacts-view.25fdbbee.chunk.js.map